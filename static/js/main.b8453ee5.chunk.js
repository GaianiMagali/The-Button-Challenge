(this["webpackJsonpchallenge-the-button"]=this["webpackJsonpchallenge-the-button"]||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(22),a=n.n(r),s=n(13),o=n(16),u=n(5),i=n(6),j=n(25),l=n(2),b=["isAuthenticated","component"],d=function(e){var t=e.isAuthenticated,n=e.component,c=Object(j.a)(e,b);return localStorage.setItem("lastPath",c.location.pathname),Object(l.jsx)(u.b,Object(i.a)(Object(i.a)({},c),{},{component:function(e){return t?Object(l.jsx)(n,Object(i.a)({},e)):Object(l.jsx)(u.a,{to:"/login"})}}))},O=["isAuthenticated","component"],g=function(e){var t=e.isAuthenticated,n=e.component,c=Object(j.a)(e,O);return Object(l.jsx)(u.b,Object(i.a)(Object(i.a)({},c),{},{component:function(e){return t?Object(l.jsx)(u.a,{to:"/"}):Object(l.jsx)(n,Object(i.a)({},e))}}))},p=n(9),f=n.p+"static/media/padlockClose.de3ce361.svg",m=n.p+"static/media/padlockOpen.1d569abd.svg",h=n(21),x=n(8),v=n.n(x),S=n(32),E=function(){var e=localStorage.getItem("userLogged");return JSON.parse(e)},G=function(){var e=Object(S.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=[]).push(t),L()&&(n=[].concat(Object(h.a)(L()),Object(h.a)(n))),localStorage.setItem("statisticsUsers",JSON.stringify(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=localStorage.getItem("statisticsUsers"),t=JSON.parse(e);return t?function(e){var t={};return e.filter((function(e){return!t[e.userId]&&(t[e.userId]=!0)}))}(t):t},N=(n(60),["purple","blue","green","yellow","orange","red"]),_=function(){return Object(l.jsxs)("div",{className:"container-statistics",children:[Object(l.jsx)("span",{className:"title-statics",children:"Clicks statistics by users:"}),N.map((function(e,t){return Object(l.jsxs)("div",{className:"statistics-data",children:[Object(l.jsx)("div",{className:"square-statistics square-".concat(e)}),Object(l.jsxs)("p",{className:"statistics-number",children:[L()&&L().filter((function(t){return t.buttonColor===e})).length," users"]})]},t)}))]})},U={USER_LOGGED_SUCCESS:"USER_LOGGED_SUCCESS",USER_LOGGED_PENDING:"USER_LOGGED_PENDING",USER_LOGGED_FAILED:"USER_LOGGED_FAILED",LOGIN:"lOGIN",LOGOUT:"LOGOUT",SET_USER_LOGGED:"SET_USER_LOGGED",userLoggedSuccess:function(e){return{type:U.USER_LOGGED_SUCCESS,payload:{data:e}}},userLoggedPending:function(){return{type:U.USER_LOGGED_PENDING}},userLoggedFailed:function(e){return{type:U.USER_LOGGED_FAILED,payload:{error:e}}},login:function(e){return{type:U.LOGIN,payload:{username:e}}},logout:function(){return{type:U.LOGOUT}},setUserLogged:function(e){return{type:U.SET_USER_LOGGED,payload:{data:e}}}},y={failed:U.userLoggedFailed,success:U.userLoggedSuccess,pending:U.userLoggedPending},k=function(e){var t=e.split(" "),n=t[0].substring(0,1).toUpperCase();return t.length>1&&(n+=t[t.length-1].substring(0,1).toUpperCase()),n},D=function(){var e=Object(s.b)(),t=Object(u.g)(),n=Object(c.useState)(!1),r=Object(p.a)(n,2),a=r[0],o=r[1],i=Object(s.c)((function(e){return e})).userLogged;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"cube"}),Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("span",{children:"The Timer App"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"avatar",onClick:function(){return o(!a)},type:"button",children:k(i.user.name)}),a&&Object(l.jsx)("div",{className:"container-menu slideInDown",children:Object(l.jsx)("span",{type:"button",onClick:function(){e(U.logout()),t.push("./login")},children:"Logout"})})]})]})]})},C=function(e){var t=e.text;return Object(l.jsx)("div",{className:"alert",children:t})},I=function(){var e=Object(c.useState)(60),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(p.a)(a,2),u=o[0],i=o[1],j=Object(c.useState)("gray"),b=Object(p.a)(j,2),d=b[0],O=b[1],g=Object(c.useState)(!1),h=Object(p.a)(g,2),x=h[0],v=h[1],S=Object(c.useState)(!1),E=Object(p.a)(S,2),N=E[0],U=E[1],y=Object(s.c)((function(e){return e})).userLogged,k=Object(c.useState)(!1),I=Object(p.a)(k,2),w=I[0],R=I[1],T=Object(c.useState)(!1),P=Object(p.a)(T,2),A=P[0],F=P[1];Object(c.useEffect)((function(){!u&&w&&G({userId:y.user.id,buttonColor:d,timeCounter:n})}),[n,u]),Object(c.useEffect)((function(){var e=L()&&L().find((function(e){return e.userId===y.user.id}));e&&(O(e.buttonColor),r(e.timeCounter),R(!0),U(!0))}),[y]),Object(c.useEffect)((function(){n>=52&&n<=61&&u&&O("purple"),u&&setTimeout((function(){n>=1&&r(n-1),J()}),1e3)}),[u,n]);var J=function(){60===n&&O("gray"),n>=52&&n<=59&&O("purple"),n>=42&&n<=52&&O("blue"),n>=32&&n<=42&&O("green"),n>=22&&n<=32&&O("yellow"),n>=12&&n<=22&&O("orange"),n>=0&&n<=12&&O("red")},q=u?"Stop":"Start";return Object(l.jsxs)("div",{className:"container-home",children:[Object(l.jsx)(D,{}),A&&Object(l.jsx)(C,{text:"You can only click once"}),Object(l.jsx)("div",{className:"CountdownCircleTimer border-counter-".concat(d),children:Object(l.jsx)("div",{className:"timer-text text-counter-".concat(d),children:Object(l.jsx)("p",{children:"".concat(n,"s")})})}),Object(l.jsx)("span",{type:"button",className:"timer-button bg-".concat(d),onClick:function(){x||w?F(!A):(i(!u),0===n&&r(60)),u&&U(!0),u&&R(!w)},children:0===n?"reset":q}),Object(l.jsx)("div",{type:"button",className:"lock-time-button",onClick:function(){v(!x),O("white"),x&&J()},children:x?Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:m,alt:"padlock-open",className:"lock-time-img"}),Object(l.jsx)("p",{className:"text-padlock",children:"Unlock Timer"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:f,alt:"padlock-close",className:"lock-time-img"}),Object(l.jsx)("p",{className:"text-padlock",children:"Lock Timer"})]})}),N&&Object(l.jsx)(_,{})]})},w=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container mt-2",children:Object(l.jsxs)(u.d,{children:[Object(l.jsx)(u.b,{exact:!0,path:"/home",component:I}),Object(l.jsx)(u.a,{to:"/home"})]})})})},R=n(24),T=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(p.a)(t,2),r=n[0],a=n[1];return[r,function(e){var t=e.target;a(Object(i.a)(Object(i.a)({},r),{},Object(R.a)({},t.name,t.value)))},function(){a(e)}]}({username:""}),t=Object(p.a)(e,3),n=t[0],r=t[1],a=(t[2],Object(u.g)()),o=Object(s.b)(),j=Object(s.c)((function(e){return e})).userLogged;Object(c.useEffect)((function(){j.logged&&a.push("/home")}),[j]);return Object(l.jsxs)("div",{className:"card-items",children:[Object(l.jsx)("h2",{className:"header-form-title",children:"Sign In"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(U.login(n.username))},children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter your username",name:"username",onChange:r,value:n.username}),Object(l.jsx)("button",{type:"submit",className:"form-button",children:Object(l.jsx)("span",{className:"text-buton-form",children:"Signin"})})]})]})},P=function(){return Object(l.jsx)("div",{className:"container-welcome",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)(T,{})})})},A={isPending:!1,success:!1,error:null,logged:!1,user:{}},F=n(10),J=n(44),q=n.n(J),B="".concat("https://jsonplaceholder.typicode.com","/users"),Y=function(e){return function(e){var t={method:e.method||"get",url:e.url};return q()(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}({url:"".concat(B,"?username=").concat(e)})};var z=v.a.mark(H);function H(e,t,n,c){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(F.d)(t.pending());case 3:return a.next=5,Object(F.b)(e,c||n);case 5:if(!((r=a.sent).length>0)){a.next=11;break}return a.next=9,Object(F.d)(t.success(r));case 9:a.next=13;break;case 11:return a.next=13,Object(F.d)(t.failed(r));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(F.d)(t.failed(a.t0));case 19:case"end":return a.stop()}}),z,null,[[0,15]])}var K=H.bind(null,Y,y),M=v.a.mark(W),Q=v.a.mark(X),V=v.a.mark(Z);function W(e){var t,n;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.username,c.next=4,Object(F.b)(K,n);case 4:case"end":return c.stop()}}),M)}function X(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.f)(U.LOGIN,W);case 2:case"end":return e.stop()}}),Q)}function Z(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(F.e)(U.USER_LOGGED_SUCCESS);case 3:e=n.sent,t=e.payload,c=t.data[0],localStorage.setItem("userLogged",JSON.stringify(c)),n.next=0;break;case 8:case"end":return n.stop()}var c}),V)}var $=[Object(F.c)(X),Object(F.c)(Z)],ee=function(){var e=Object(s.c)((function(e){return e})).userLogged,t=Object(s.b)();return Object(c.useEffect)((function(){t(U.setUserLogged(E()&&E()[0]))}),[]),Object(l.jsx)(o.a,{children:Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(u.d,{children:[Object(l.jsx)(g,{exact:!0,path:"/login",component:P,isAuthenticated:e.logged}),Object(l.jsx)(d,{path:"/",component:w,isAuthenticated:e.logged})]})})})},te=(n(81),n(82),function(){return Object(l.jsx)("div",{children:Object(l.jsx)(ee,{})})}),ne=n(17),ce=n(45),re=Object(ne.b)({userLogged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.payload,c=t.type;switch(c){case U.USER_LOGGED_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{isPending:!1,success:!0,error:null,logged:!0,user:n.data[0]});case U.USER_LOGGED_PENDING:return Object(i.a)(Object(i.a)({},e),{},{isPending:!0});case U.USER_LOGGED_FAILED:return Object(i.a)(Object(i.a)({},e),{},{isPending:!1,success:!1,error:n.error,logged:!1});case U.LOGOUT:return Object(i.a)(Object(i.a)({},e),{},{isPending:!1,success:!1,error:null,logged:!1,user:{}});case U.SET_USER_LOGGED:return Object(i.a)(Object(i.a)({},e),{},{isPending:!1,success:!0,error:null,user:n.data,logged:!!n.data});default:return e}}}),ae=v.a.mark(se);function se(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(Object(h.a)($));case 2:case"end":return e.stop()}}),ae)}var oe=function(){var e=Object(ce.a)(),t=Object(ne.a)(e),n=Object(ne.d)(re,t);return e.run(se),n}();a.a.render(Object(l.jsx)(s.a,{store:oe,children:Object(l.jsx)(o.a,{children:Object(l.jsx)(te,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.b8453ee5.chunk.js.map